<h2>System Integration : How To Use TransKit In Your Application</h2>

This article explains how to integrate your application with the Worldwide Lexicon translation memory using either our web API or TransKit libraries. Here you will find guidelines about the best way to incorporate translation into your system, with an emphasis on managing users, deciding who has permission to edit translations, and related topics.<br><br>

<h3>Overview</h3>

Before proceeding, read our documentation for the <a href=http://www.worldwidelexicon.org/api>web API</a> and for <a href=http://www.worldwidelexicon.org/s/transkit.html>TransKit</a>. You can generally implement a multilingual website with the option to support community translations with just two or three API calls or functions.<br><br>

This article will focus primarily on how to integrate your web application or community with WWL so that you can overlay additional policies and permissions in addition to the basic features provided by the Worldwide Lexicon translation system.<br><br>

<h3>Displaying Translations</h3>

To insert translations into a document, you will call the /t API call, or the corresponding TransKit function for each text that requires translation. You can set a variety of options for each query, including: allow/hide machine translations, require a minimum quality score, allow/hide anonymous translations, specify a specific machine translation service, and to request a professional translation via SpeakLike (just provide your SpeakLike credentials in the query). In the case of professional translations, the system will return a machine translation for the first query, while also calling out to SpeakLike to request a professional translation. The professional translation will become visible once it is submitted back to the translation memory, usually within an hour, although response time varies by language.<br><br>

We recommend that you include a banner or disclaimer in translated pages to inform readers that they are viewing a translation. We recommend language such as "This page is a translation from (original language), and was created using a combination of professional, volunteer and machine translations." You can go on to encourage your readers to edit and correct translations if you opt to allow community translation on your system.<br><br>

<h3>Administrative Tools and Configuration</h3>

You should create a basic administrative tool to enable managers to define translation policies and permissions on a per language basis, and if desired, provide additional layers of control (via subdirectories, tags or other elements). In a basic implementation, the manager is asked: what languages do you want to support, and then for each language, what kinds of translations to support. You should provide the following options for each language: allow/hide machine translation, allow/hide anonymous translations, require a minimum score (0..5, 0 by default), require a professional translation, and optional SpeakLike pro translation credentials. We'll discuss permissions for creating and editing community translations later.<br><br>

For example, you might want to have SpeakLike translate your site into an important language like Spanish, while using machine or community translation for other languages. This will enable you to optimize for quality and cost by focusing on the languages that are most relevant to your business or user community, while still providing machine and community translation for other languages.<br><br>

<h3>How to Override System Settings On A Per Page or Per Text Basis</h3>

If you want to be able to override these default settings on a per page basis without creating a complex administrative tool, an easy way to do this is to insert meta tags into the page header that override the system wide settings. For example: &lt;meta name=allow_machine content=n&gt; would tell your parser to block machine translations for a given page. To do the same thing on a per text basis, for example to lock out changes to a region within a page, you could insert a comment tag: &lt;!--translate=n--&gt; to tell it to stop translating from that point forward. This technique allows your authors or editors to insert hidden comments into a page or region within a page, without requiring you to build an elaborate administrative tool to deal with every possible exception.<br><br>

<h3>Community Translation</h3>

WWL enables users to create and edit translations. Because many of your readers are bilingual, you can enlist them to help maintain your translations, and to correct translations for grammar and style, as only a native speaker can do. You will probably want to control who can edit translations. The simplest way to do this is to write a Javascript widget that can be invoked whenever you want to allow inline edits on a translated page. If the widget is not turned on, users cannot edit texts. If it is, the user will see a popup editor when they mouse over a translated text. This widget will write to a simple relay script on your server that in turn echoes the form submission to the /submit API on WWL.<br><br>

There are two points at which you can control who can create and edit translations for a page. First, you can toggle the Javascript editor on and off as desired. For example, if you are serving a page to an anonymous user, you can simply not load the widget, and then the user can reader but not edit the page. Second, you can inspect forms as they are submitted from the user and decide whether or not to relay the submission to the translation memory. For example, you can check to see if the user has an active session with your site, and if so, decide whether to allow the submission to go through.<br><br>

When you submit the translation to WWL, you simply include a few extra parameters with the form, which are: proxy=y, username=the user's IP address (if anonymous), or their identity with your system. The WWL server will attribute the translation to your user, and will filter submissions based on your server's public IP address (see notes about filtering translations).<br><br>

<h3>Professional Translation</h3>

If you want to request professional translations, all you need to do is to include your SpeakLike credentials in calls to the /t interface or getTranslation() function. You should include the following parameters: lsp=speaklike, lspusername=your_speaklike_username, lsppw=your_speaklike_password. The systsem will return a machine translation as a placeholder, which will be replaced with the professional translation when it is submitted by SpeakLike. The response time ranges from minutes to a few hours depending on the language, time of day the request is submitted, and other factors.<br><br>

One of the most interesting things about this system is that you can decide on a per query basis whether to request professional translations. This opens up all sorts of possibilities to optimize for cost and coverage. For example, you might implement a rule to request professional translations only for the first few paragraphs of a page until it draws enough page views, at which point you pro translate the rest of it. There are many possible variations on this theme. For example, you could use machine translation for everything, but then request professional translation when you see a surge in traffic from a certain country, or when the page view rate for a specific page exceeds a certain threshold. This approach insures that you don't waste money professionally translating pages until you know that there is demand for a specific page.<br><br>

<h3>Managing Permissions and Filtering Translations</h3>

As discussed previously, you can manage permissions for translators in several ways. You can also filter translations when requesting them, to limit the search to translations submitted from IP addresses that you control. This eliminates the need for WWL to know anything about how you manage your users, access rights, etc. You simply include the parameter ip=net_mask (e.g. ip=202.1.2.3 or ip=202.1.2) to limit the scope of the search to translations submitted from an address or address range. If someone has tried to pollute the translation memory by submitting translations directly to the server, those records will not be visible. If you have reasonable controls in place when relaying submitted translations to WWL, WWL will inherit whatever policies and access rights you decide to implement. Therefore, you can decide how simple or complex to make these policies, and use WWL as a relatively dumb translation memory.